## 02.04.2025: CVE-2025-1385: ClickHouse Library Bridge Remote Code Execution {#CVE-2025-1385}

CVE ID: CVE-2025-1385

Link to CVE: <https://nvd.nist.gov/vuln/detail/CVE-2025-1385>

### Original report {#original-report}

<https://github.com/ClickHouse/ClickHouse/security/advisories/GHSA-5phv-x8x4-83x5>

### Summary {#brief-description}

A vulnerability in ClickHouse allowed remote code execution when the library bridge feature was enabled. The `clickhouse-library-bridge` exposed an HTTP API on `localhost` that allowed `clickhouse-server` to dynamically load a library from a specified path and execute it in an isolated process. When combined with the ClickHouse table engine functionality that permitted file uploads to specific directories, a misconfigured server could be exploited by an attacker with privilege to access both table engines to execute arbitrary code on the ClickHouse server.

### Technologies affected {#technologies-affected}

ClickHouse

### Vulnerable products and versions {#vulnerable-products-and-versions}

* ClickHouse < 24.3.18.6

* ClickHouse < 24.8.14.27

* ClickHouse < 24.11.5.34

* ClickHouse < 24.12.5.65

* ClickHouse < 25.1.5.5

### Vendor {#vendor}

ClickHouse, Inc.

### Attack vector and severity level per CVSS v.3.0 {#attack-vector-and-severity-level}

Not yet assigned.

### Recommendations for vulnerability detection and supporting materials {#recommendations-for-vulnerability-detection}

You can check if your ClickHouse server is vulnerable to this vulnerability by inspecting the configuration file and confirming if the following setting is enabled:

```
<library_bridge>
   <port>9019</port>
</library_bridge>
```

### Safe version of vulnerable product or patch {#safe-version}

The vulnerability has been fixed in the following versions:

 * 24.3.18.6

 * 24.8.14.27

 * 24.11.5.34

 * 24.12.5.65

 * 25.1.5.5
 
### Impact on {{ yandex-cloud }} services {#impact-on-yandex-cloud-services}
 
{{ mch-full-name }} for ClickHouse has been updated to patched versions. No additional action is required from users of the managed service.

If you are running ClickHouse on your own VMs in {{ yandex-cloud }}, the vulnerability has already been addressed in the latest images. No further action is needed from end users. 
