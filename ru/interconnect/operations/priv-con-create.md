---
title: Как создать приватное соединение в транковом подключении {{ interconnect-name }}
description: Следуя этой инструкции, вы сможете создать приватное соединение в транковом подключении {{ interconnect-name }}.
---

# Создать приватное соединение

{% include [cic-cr-access](../../_includes/interconnect/cic-cr-access.md) %}

{% note info %}

Для выполнения операции необходима роль [cic.editor](../security/index.md#cic-editor).

{% endnote %}

{% list tabs group=instructions %}

- CLI {#cli}

  1. Посмотрите описание команды CLI для создания [приватного соединения](../concepts/priv-con.md):

      ```bash
      yc cic private-connection create --help
      ```

  1. Создайте приватное соединение

      ```bash
      yc cic private-connection create --name prc-m9 \
        --description "Private connection #1 via M9" \ 
        --trunk-id cf3td**********nufvr \
        --vlan-id 125 \
        --ipv4-peering peering-subnet=192.168.10.0/30,peer-ip=192.168.10.1,cloud-ip=192.168.10.2,peer-bgp-asn=65202 \
        --async
      ```

      {% note info %}

      По умолчанию приватное соединение будет создано в том же каталоге, что и транковое подключение. Для упрощения дальнейшей эксплуатации не рекомендуется создавать транковые подключения и приватные соединения в разных каталогах.

      {% endnote %}

      Ожидаемый результат:

      ```text
      id: cca59**********dvjir
      name: prc-m9
      folder_id: b1gqf**********jiz2w
      region_id: ru-central1
      trunk_connection_id: cf3td**********nufvr
      vlan_id: "125"
      ipv4_peering:
        peering_subnet: 192.168.10.0/30
        peer_ip: 192.168.10.1
        cloud_ip: 192.168.10.2
        peer_bgp_asn: "20001"
        peer_bgp_md5_key: '*** hidden ***'
      status: ACTIVE
      created_at: "2025-03-20T08:25:33Z"
      ```

      где,
      * `id` — идентификатор приватного соединения.
      * `name` — название приватного соединения.
      * `description` — описание приватного соединения.
      * `folder_id` — идентификатор облачного каталога, в котором было создано приватное соединение.
      * `region_id` — регион облака, в котором было создано приватное соединение.
      * `trunk_connection_id` — идентификатор транкового подключения, в котором было создано приватное соединение.
      * `vlan_id` — идентификатор VLAN ID для данного приватного соединения в 802.1Q-транке. Выбирается клиентом. Не может совпадать со значениями VLAN ID ранее настроенных приватных соединений в данном транке.
      * `ipv4_peering` — группа параметров IP/BGP-связности для приватного соединения:
        * `peering_subnet` — [стыковая подсеть](../concepts/priv-con.md#priv-address) для BGP-пиринга. Выбирается клиентом.
        * `peer_ip` — IP-адрес из стыковой (пиринговой) подсети на оборудовании клиента. Выбирается клиентом.
        * `cloud_ip` — IP-адрес из стыковой (пиринговой) подсети на оборудовании {{ yandex-cloud }}. Выбирается клиентом.
        * `peer_bgp_asn` — номер [BGP ASN](../concepts/priv-con.md#bgp-asn) на оборудовании клиента в формате ASPlain. Выбирается клиентом.
        * `peer_bgp_md5_key` — необязательный параметр. Зашифрованное значение ключа для установления BGP-соединения.
      * `status` — состояние ресурса. Целевое состояние — `ACTIVE`.
      * `created_at` — дата и время создания ресурса.
      * `async` — выполнение операции в асинхронном режиме. Рекомендуется все операции с изменением ресурсов выполнять в этом режиме.

{% endlist %}

