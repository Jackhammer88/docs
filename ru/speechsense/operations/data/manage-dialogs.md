# Работа с диалогами

В [диалоге](../../concepts/dialogs.md) вы можете получить подробную информацию о диалоге, прослушать аудиозапись разговора и посмотреть переписку клиента с оператором или ботом.

## Посмотреть список диалогов {#list-dialogs}

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.

По умолчанию на вкладке **{{ ui-key.yc-ui-talkanalytics.dialogs.dialogs }}** отображаются 100 последних диалогов. Чтобы увидеть предыдущие, нажмите кнопку **{{ ui-key.yc-ui-talkanalytics.common.show-more }}** в конце списка.

## Найти диалоги {#search-dialogs}

Для поиска диалогов вы можете использовать:
* [фильтры](#filters-dialogs),
* [полнотекстовый поиск](#full-text-search),
* [словарный поиск](#dictionary-search),
* [смысловой поиск](#sense-search).

### Фильтры {#filters-dialogs}

Чтобы применить фильтр к диалогам:

Чтобы получить больше информации о каждом диалоге, [настройте отображение колонок](#set-columns).

Для поиска диалогов вы можете использовать [фильтры](#filters-dialogs) и [строку поиска](#find-dialogs).

## Настроить отображение колонок {#set-columns}

По умолчанию в списке диалогов отображаются не все колонки. Вы можете отобразить дополнительные колонки, скрыть ненужные, а также изменить их порядок.

Чтобы настроить отображение колонок:

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. В строке заголовков для списка диалогов нажмите ![image](../../../_assets/console-icons/gear.svg). Откроется список всех колонок.
1. Выполните в списке колонок нужные действия:

    * Чтобы отобразить дополнительные колонки, отметьте их.
    * Чтобы скрыть ненужные колонки, снимите для них отметки. Некоторые колонки нельзя скрыть, в них снятие отметки недоступно.
    * Чтобы изменить порядок колонок, слева от названия колонки нажмите ![image](../../../_assets/console-icons/grip.svg) и перетяните колонку на нужную позицию в списке.

1. Нажмите кнопку **Применить**.

## Найти диалоги по фильтрам {#filters-dialogs}

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. На вкладке **{{ ui-key.yc-ui-talkanalytics.dialogs.dialogs }}** нажмите кнопку ![image](../../../_assets/console-icons/plus.svg) **{{ ui-key.yc-ui-talkanalytics.common.add-filter }}**.
1. Выберите нужный фильтр и введите его значение.
1. Нажмите кнопку **{{ ui-key.yc-ui-talkanalytics.common.apply }}**.

Вы можете добавить несколько фильтров. Они будут объединены логической операцией «И». В результате будут найдены диалоги, которые удовлетворяют всем заданным условиям.

### Полнотекстовый поиск {#full-text-search}

Полнотекстовый поиск позволяет найти диалоги, содержащие определенное слово или фразу. Чем больше текст диалога соответствует поисковому запросу и чем чаще этот текст встречается, тем выше располагается диалог в результатах поиска.

Чтобы выполнить поиск:

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. Перейдите на вкладку **{{ ui-key.yc-ui-talkanalytics.dialogs.dialogs }}**.
1. В выпадающем списке над поисковой строкой выберите ![image](../../../_assets/console-icons/square-dashed-text.svg) **{{ ui-key.yc-ui-talkanalytics.dialogs.search.text.title }}**.
1. Введите в поисковой строке искомый фрагмент текста.
1. (Опционально) Чтобы уточнить результаты поиска, под поисковой строкой выберите из выпадающего списка  канал, в котором нужно выполнить поиск: **{{ ui-key.yc-ui-talkanalytics.dialogs.all-participants }}**, **{{ ui-key.yc-ui-talkanalytics.dialogs.operator }}** или **{{ ui-key.yc-ui-talkanalytics.dialogs.client }}**.
1. Нажмите кнопку **{{ ui-key.yacloud.common.search }}**.

### Словарный поиск {#dictionary-search}

Словарный поиск позволяет найти диалоги, содержащие одну или несколько заданных ключевых фраз.

Чтобы выполнить поиск:

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. Перейдите на вкладку **{{ ui-key.yc-ui-talkanalytics.dialogs.dialogs }}**.
1. В выпадающем списке над поисковой строкой выберите ![image](../../../_assets/console-icons/square-dashed-letter-t.svg) **{{ ui-key.yc-ui-talkanalytics.dialogs.search.dictionary.title }}**.
1. Введите в поисковой строке ключевую фразу или фразы. Каждая фраза вводится с новой строки.
1. (Опционально) Чтобы уточнить результаты поиска:

   * Выберите из выпадающего списка канал, в котором нужно выполнить поиск: **{{ ui-key.yc-ui-talkanalytics.dialogs.all-participants }}**, **{{ ui-key.yc-ui-talkanalytics.dialogs.operator }}** или **{{ ui-key.yc-ui-talkanalytics.dialogs.client }}**.
   * Выберите допустимую дистанцию между словами в ключевой фразе.
   * Включите опцию **{{ ui-key.yc-ui-talkanalytics.dialogs.exact-match-by-key-phrases }}**.
1. Нажмите кнопку **{{ ui-key.yacloud.common.search }}**.

### Смысловой поиск {#sense-search}

Смысловой поиск позволяет найти диалоги, которые соответствуют по смыслу поисковому запросу в контексте выбранного [смыслового атрибута](../../concepts/reports/sense-attributes.md). В поисковой выдаче будут только соответствующие поисковому запросу диалоги, расположенные в порядке убывания вероятности соответствия.

Чтобы выполнить поиск:

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. Перейдите на вкладку **{{ ui-key.yc-ui-talkanalytics.dialogs.dialogs }}**.
1. В выпадающем списке над поисковой строкой выберите ![image](../../../_assets/console-icons/neuro-tag.svg) **{{ ui-key.yc-ui-talkanalytics.dialogs.search.neuro.title }}**.
1. Выберите из выпадающего списка один из смысловых атрибутов.
1. В поисковой строке выберите поисковый запрос из автоматически сгенерированных [подсказок](../../concepts/tags.md#suggestions) или введите его вручную.

   Если в проекте более 1000 диалогов, при подготовке подсказок {{ speechsense-name }} проанализирует только 1000 диалогов случайным образом. Если автоматически сгенерированные подсказки вам не подходят, вы можете нажать кнопку **{{ ui-key.yacloud.common.update }}**. {{ speechsense-name }} снова выберет 1000 диалогов случайным образом, проанализирует их и сгенерирует новые подсказки.

1. Нажмите кнопку **{{ ui-key.yacloud.common.search }}**.

## Просмотреть диалог {#view-dialog}

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. [Найдите нужный диалог](#search-dialogs).
1. Откройте диалог одним из способов:

    * Чтобы открыть превью диалога, нажмите на строку диалога.
    * Чтобы открыть диалог в новом окне, нажмите в строке диалога справа ![image](../../../_assets/console-icons/arrow-up-right-from-square.svg).

На странице диалога отображается следующая информация:

* Метаданные, например, имена оператора и клиента, дата звонка или сообщения, язык диалога.
* Аудиозапись разговора (только для аудио).
* Содержимое разговора на вкладке **{{ ui-key.yc-ui-talkanalytics.dialogs.dialog }}**.
* Смысловой анализ разговора на вкладке **{{ ui-key.yc-ui-talkanalytics.projects.sumarization }}**.
* Присвоенные диалогу [теги](../../concepts/tags.md).

Подробнее см. в разделе [{#T}](../../concepts/dialogs.md#details).

## Пример поиска диалогов по периоду и фрагменту текста {#example-find-dialogs-by-period-and-text}

Условия поиска:

* За период `10.11.2023 - 16.11.2023`.
* Содержит фразу клиента `хорошее обслуживание`.

Выполните действия:

1. Откройте [главную страницу]({{ link-speechsense-main }}) {{ speechsense-name }}.
1. Перейдите в нужное пространство, затем выберите нужный проект.
1. На вкладке **{{ ui-key.yc-ui-talkanalytics.dialogs.dialogs }}** в строке поиска введите `хорошее обслуживание`.
1. Справа от строки поиска выберите из выпадающего списка канал **{{ ui-key.yc-ui-talkanalytics.dialogs.client }}**.
1. Нажмите кнопку ![image](../../../_assets/console-icons/plus.svg) **{{ ui-key.yc-ui-talkanalytics.common.add-filter }}**.
1. В группе **{{ ui-key.yc-ui-talkanalytics.dialogs.common-metadata }}** выберите фильтр **Дата начала**. В качестве значения фильтра укажите диапазон дат `10.11.2023 - 16.11.2023`.
1. Нажмите кнопку **{{ ui-key.yc-ui-talkanalytics.common.apply }}**.

В результате отобразятся отфильтрованные диалоги.

Пример ранжирования диалогов в зависимости от найденных фрагментов текста:

#|
|| **№ п/п** | **Дата диалога** | **Фрагмент диалога** ||
|| 1 | 16.11.2023 | спасибо за `хорошее обслуживание` ||
|| 2 | 13.11.2023 | `хорошее` оборудование и сервисное `обслуживание` ||
|| 3 | 15.11.2023 | полное `обслуживание` системы ||
|#
