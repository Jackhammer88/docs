1. Дополнительно к защите от DDoS-атак на уровне L7 модели OSI с помощью [{{ sws-full-name }}](../../../smartwebsecurity/) рекомендуется подключить защиту от DDoS-атак на уровне L3-L4. Для этого заранее [зарезервируйте статический публичный IP-адрес с защитой от DDoS-атак](../../../vpc/operations/enable-ddos-protection.md#enable-on-reservation) и используйте этот адрес для обработчика L7-балансировщика.

    Если у обработчика сетевого балансировщика уже используется публичный IP-адрес с защитой от DDoS, то вы сможете сохранить его и перенести в L7-балансировщик.

    Если у обработчика сетевого балансировщика используется публичный IP-адрес без защиты от DDoS, то для защиты от DDoS-атак на уровне L3-L4 миграция на L7-балансировщик возможна только со сменой публичного IP-адреса для вашего сервиса.

    При использовании защиты от DDoS-атак на уровне L3-L4 настройте порог для срабатывания механизмов защиты на уровне L3-L4, который будет соответствовать объему легитимного трафика на защищаемый ресурс. Для настройки такого порога обратитесь в [техническую поддержку]({{ link-console-support }}).

    Также задайте значение MTU равным `1450` на целевых ресурсах за балансировщиком. Подробнее см. в разделе [Настроить MTU при включении защиты от DDoS-атак](../../../vpc/operations/adjust-mtu-ddos-protection.md).

1. Работы по миграции рекомендуется проводить в часы наименьшей пользовательской нагрузки. Если вы планируете сохранить публичный IP-адрес, то учитывайте, что при миграции этот IP-адрес будет переноситься с сетевого балансировщика на L7-балансировщик. В это время ваш сервис будет недоступен. Время недоступности сервиса в штатном режиме может занимать несколько минут.

1. При использовании L7-балансировщика запросы на бэкенды приходят с IP-адресом источника из диапазона внутренних IP-адресов подсетей, указанных при создании L7-балансировщика. Исходный IP-адрес источника запроса (пользователя) фигурирует в заголовке `X-Forwarded-For`. Если необходимо журналировать публичные IP-адреса пользователей на веб-сервере, [измените его конфигурацию](../../../troubleshooting/application-load-balancer/how-to/getting-external-src-ip-in-x-forwarded-for-headers.md).

1. Для L7-балансировщика будут созданы по две [ресурсные единицы](../../../application-load-balancer/concepts/application-load-balancer.md#lcu-scaling) в каждой из подсетей, которые будут указаны при создании ресурса `Ingress`. В аннотациях `Ingress`-ресурса не поддерживается указание минимального количества ресурсных единиц L7-балансировщика. Группа ресурсных единиц автоматически масштабируется в зависимости от внешней нагрузки на узлы балансировщика.

1. Функциональные возможности балансировщика {{ alb-name }} могут отличаться от возможностей, используемых в вашем балансировщике, развернутом в кластере {{ managed-k8s-name }}. Ознакомьтесь с описанием [Ingress-контроллера {{ alb-name }}](../../../application-load-balancer/tools/k8s-ingress-controller/index.md) и [принципами его работы](../../../application-load-balancer/tools/k8s-ingress-controller/principles.md).
