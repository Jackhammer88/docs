1. [Создайте](../../iam/operations/sa/create.md) сервисный аккаунт, от имени которого будут выполняться запросы. Вы также можете использовать аккаунт на Яндексе или федеративный аккаунт, но для автоматизации предпочтительнее использовать [сервисный аккаунт](../../iam/concepts/users/service-accounts.md). 
1. [Назначьте](../../iam/operations/sa/assign-role-for-sa.md#binding-role-resource) аккаунту, от имени которого будут выполняться запросы, [роль](../../search-api/security/index.md#search-api-webSearch-user) `search-api.webSearch.user`.
1. [Получите](../../iam/operations/index.md#authentication) IAM-токен, необходимый для [аутентификации](../../search-api/api-ref/authentication.md). 

    В приведенных примерах используется аутентификация с помощью [IAM-токена](../../iam/concepts/authorization/iam-token.md). Чтобы использовать для аутентификации [API-ключ](../../iam/concepts/authorization/api-key.md) сервисного аккаунта, измените в примерах запросов заголовок `Authorization`. Подробнее см. в разделе [{#T}](../../search-api/api-ref/authentication.md).