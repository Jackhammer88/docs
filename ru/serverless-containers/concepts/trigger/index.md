---
title: Триггеры в {{ serverless-containers-name }}. Обзор
description: Триггер — условие, при выполнении которого автоматически запускается контейнер. Триггеры позволяют автоматизировать работу с другими сервисами {{ yandex-cloud }}, например {{ objstorage-full-name }}, {{ message-queue-full-name }} и {{ iot-full-name }}.
---

# Триггеры в {{ serverless-containers-name }}. Обзор

_Триггер_ — условие, при выполнении которого автоматически запускается [контейнер](../container.md) {{ serverless-containers-name }}. Триггеры позволяют автоматизировать работу с другими сервисами {{ yandex-cloud }}, например: {{ objstorage-full-name }}, {{ message-queue-full-name }} и {{ container-registry-full-name }}. 

{% include [trigger-time](../../../_includes/functions/trigger-time.md) %}

В {{ serverless-containers-name }} доступны следующие типы триггеров: 
* [таймер](timer.md);
* [триггер для {{ message-queue-name }}](ymq-trigger.md);
* [триггер для {{ objstorage-name }}](os-trigger.md);
* [триггер для {{ container-registry-name }}](cr-trigger.md);
* [триггер для {{ cloud-logging-name }}](cloud-logging-trigger.md);
* [триггер для {{ iot-name }}](iot-core-trigger.md);
* [триггер для бюджетов](budget-trigger.md);
* [триггер для {{ yds-name }}](data-streams-trigger.md);
* [триггер для почты](mail-trigger.md).

{% include [trigger-intro-note](../../../_includes/functions/trigger-intro-note.md) %}

## Особенности вызова контейнера триггером {#invoke}

Триггеры вызывают контейнер с учетом установленных [квот и лимитов](../limits.md).

При вызове контейнера триггером существуют следующие особенности:

* Контейнер необходимо настроить таким образом, чтобы при успешном вызове он возвращал код состояния `2xx`. Другие коды состояния будут интерпретированы как ошибка вызова, что приведет к повторному вызову контейнера.
* Перед передачей сообщений в контейнер, триггер изменяет их формат. У каждого типа триггера свой формат сообщений. Подробнее см. описание соответствующего триггера.
* Сервисному аккаунту, от имени которого будет вызываться контейнер, необходима роль `{{ roles-serverless-containers-invoker }}`. Другие роли, необходимые для корректной работы триггера, зависят от его типа. Подробнее см. описание соответствующего триггера.
* Если работа триггера была приостановлена пользователем, а затем снова запущена, то все события, произошедшие за время простоя, не будут обработаны.

## Группирование сообщений {#batch-messages}

Вы можете настроить группирование сообщений перед вызовом контейнера у следующих триггеров:

* триггер для {{ message-queue-name }};
* триггер для {{ cloud-logging-name }};
* триггер для {{ objstorage-name }};
* триггер для {{ container-registry-name }};
* триггер для {{ iot-name }};
* триггер для {{ yds-name }};
* триггер для почты.

Это позволит вызывать контейнер не для каждого отдельного сообщения, а для целой группы сообщений. Для этого в параметрах триггера задайте:

* **{{ ui-key.yacloud.serverless-functions.triggers.form.field_cutoff }}** — время, в течение которого происходит группирование сообщений. Число сообщений при этом не превышает указанный размер группы.
* **{{ ui-key.yacloud.serverless-functions.triggers.form.field_size }}** — количество сообщений для группирования.

Подробнее о группировании сообщений читайте в инструкциях по созданию соответствующего триггера.

## Повторные запросы вызова контейнера {#invoke-retry}

Вы можете настроить повторный вызов контейнера, если текущий завершился неуспешно. Для этого в параметрах триггера задайте:

* **{{ ui-key.yacloud.serverless-functions.triggers.form.field_retry-interval }}** — время, через которое будет сделан повторный вызов контейнера.
* **{{ ui-key.yacloud.serverless-functions.triggers.form.field_retry-attempts }}** — количество повторных вызовов контейнера, которые будут сделаны, прежде чем триггер отправит сообщение в [Dead Letter Queue](../dlq.md).

Настройка доступна для всех типов триггеров, кроме триггера для {{ message-queue-name }}.

Подробнее о повторных запросах читайте в инструкции по созданию соответствующего триггера.

## См. также {#see-also_}

* [Триггеры для запуска функции {{ sf-name }}](../../../functions/concepts/trigger/index.md)
* [Триггеры для отправки сообщений в WebSocket-соединения](../../../api-gateway/concepts/trigger/index.md)
