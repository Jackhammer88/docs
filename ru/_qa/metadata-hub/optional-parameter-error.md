Если на уровне пространства имен настроена [политика проверки совместимости](../../metadata-hub/concepts/compatibility-check-policy.md) `Confluent`, при добавлении или удалении в схеме опциональных параметров возможны следующие ошибки:

* `PROPERTY_ADDED_TO_OPEN_CONTENT_MODEL`,
* `PROPERTY_REMOVED_FROM_CLOSED_CONTENT_MODEL`.

**Решение**
Политика проверки совместимости `Confluent` основывается на стандартах Confluent Schema Registry и реализует математически точную проверку совместимости. Такая политика не позволяет добавлять и удалять опциональные параметры в полях типа `object`, что приводит к указанным выше ошибкам.

Чтобы добавлять или удалять опциональные параметры, [выберите в пространстве имен](../../metadata-hub/operations/update-name-space.md) политику проверки совместимости для JSON `optional-friendly`. Она основывается на [использовании разных контентных моделей](../concepts/schema-registry-content-model#optional-parameters-compatibility-solution) для производителя и потребителя, причем регистрируется только схема для производителя. Для проверки совместимости схема потребителя конвертируется из открытой контентной модели в закрытую и сравнивается с зарегистрированными схемами производителя. Это позволяет поддерживать добавление и удаление опциональных параметров, сохраняя полную транзитивную совместимость.
